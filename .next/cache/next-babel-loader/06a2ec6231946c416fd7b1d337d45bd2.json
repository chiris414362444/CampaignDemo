{"ast":null,"code":"import React, { Component } from 'react';\nimport factory from '../ethereum/factory';\nimport { Button, Card } from 'semantic-ui-react';\nimport Layout from '../components/Layout';\nimport { Link } from '../routes';\n\nclass CampaignIndex extends Component {\n  // next服务器的生命周期函数\n  static async getInitialProps() {\n    const campaigns = await factory.methods.getDeployedCampaign().call();\n    return {\n      campaigns\n    };\n  } // React的生命周期函数\n  //async componentDidMount() {\n  //const campaigns = await factory.methods.getDeployedCampaign().call();\n  //console.log(campaigns);\n  //}\n\n\n  renderCampaign() {\n    const items = this.props.campaigns.map(address => {\n      return {\n        header: address,\n        description: React.createElement(Link, {\n          route: `campaigns/${address}`\n        }, React.createElement(\"a\", null, \"\\u67E5\\u770B\\u4F17\\u7B79\")),\n        fluid: true\n      };\n    });\n    return React.createElement(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return React.createElement(Layout, null, React.createElement(\"div\", null, React.createElement(\"h3\", null, \"\\u4F17\\u7B79\\u5217\\u8868\"), React.createElement(Link, {\n      route: \"campaigns/new\"\n    }, React.createElement(\"a\", null, React.createElement(Button, {\n      content: \"\\u521B\\u5EFA\\u4F17\\u7B79\",\n      icon: \"add\",\n      primary: true,\n      floated: \"right\"\n    }))), this.renderCampaign()));\n  }\n\n}\n\nexport default CampaignIndex;","map":{"version":3,"sources":["/Users/chrisyx/Documents/BlockChain/Campaign/pages/index.js"],"names":["React","Component","factory","Button","Card","Layout","Link","CampaignIndex","getInitialProps","campaigns","methods","getDeployedCampaign","call","renderCampaign","items","props","map","address","header","description","fluid","render"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,mBAA7B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,IAAT,QAAqB,WAArB;;AAEA,MAAMC,aAAN,SAA4BN,SAA5B,CAAsC;AAEpC;AACA,eAAaO,eAAb,GAA+B;AAC7B,UAAMC,SAAS,GAAG,MAAMP,OAAO,CAACQ,OAAR,CAAgBC,mBAAhB,GAAsCC,IAAtC,EAAxB;AACA,WAAO;AAAEH,MAAAA;AAAF,KAAP;AACD,GANmC,CAQpC;AACA;AACE;AACA;AACF;;;AAEAI,EAAAA,cAAc,GAAG;AACf,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWN,SAAX,CAAqBO,GAArB,CAAyBC,OAAO,IAAG;AAC/C,aAAO;AACLC,QAAAA,MAAM,EAAED,OADH;AAELE,QAAAA,WAAW,EAAE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAG,aAAYF,OAAQ;AAAlC,WAAqC,0DAArC,CAFR;AAGLG,QAAAA,KAAK,EAAE;AAHF,OAAP;AAKD,KANa,CAAd;AAQA,WAAO,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,KAAK,EAAIN;AAArB,MAAP;AACD;;AAEDO,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,MAAD,QACE,iCACE,2DADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAC;AAAZ,OACE,+BACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAG,0BAAlB;AAAyB,MAAA,IAAI,EAAC,KAA9B;AAAoC,MAAA,OAAO,MAA3C;AAA4C,MAAA,OAAO,EAAC;AAApD,MADF,CADF,CAFF,EAOG,KAAKR,cAAL,EAPH,CADF,CADF;AAaD;;AAxCmC;;AA2CtC,eAAeN,aAAf","sourcesContent":["import React, {Component} from 'react';\nimport factory from '../ethereum/factory';\nimport { Button, Card } from 'semantic-ui-react';\nimport Layout from '../components/Layout';\nimport { Link } from '../routes';\n\nclass CampaignIndex extends Component {\n\n  // next服务器的生命周期函数\n  static async getInitialProps() {\n    const campaigns = await factory.methods.getDeployedCampaign().call();\n    return { campaigns };\n  }\n\n  // React的生命周期函数\n  //async componentDidMount() {\n    //const campaigns = await factory.methods.getDeployedCampaign().call();\n    //console.log(campaigns);\n  //}\n\n  renderCampaign() {\n    const items = this.props.campaigns.map(address =>{\n      return {\n        header: address,\n        description: <Link route={`campaigns/${address}`}><a>查看众筹</a></Link>,\n        fluid: true\n      }\n    });\n\n    return <Card.Group items = {items}/>;\n  }\n\n  render() {\n    return(\n      <Layout>\n        <div>\n          <h3>众筹列表</h3>\n          <Link route='campaigns/new'>\n            <a>\n              <Button content = '创建众筹' icon='add' primary floated='right'></Button>\n            </a>\n          </Link>\n          {this.renderCampaign()}\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default CampaignIndex;\n"]},"metadata":{},"sourceType":"module"}